# Cursor Rules for Next.js 15 + TypeScript + Tailwind CSS 4 Project

## é¡¹ç›®æ¦‚è¿°
è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Next.js 15ã€TypeScriptã€React 19 å’Œ Tailwind CSS 4 çš„ç°ä»£åŒ– Web åº”ç”¨é¡¹ç›®ã€‚

## ğŸ® æ¸¸æˆæœºåˆ¶æ ¸å¿ƒç†è§£ï¼ˆé‡è¦ï¼ï¼‰

### è´ªåƒè›‡æ¶ˆæ¶ˆä¹æ¸¸æˆè§„åˆ™
è¿™æ˜¯ä¸€ä¸ªç»“åˆè´ªåƒè›‡å’Œæ¶ˆæ¶ˆä¹æœºåˆ¶çš„åˆ›æ–°æ¸¸æˆï¼Œå¼€å‘æ—¶å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¸å¿ƒè§„åˆ™ï¼š

#### è›‡çš„ç»„æˆç»“æ„
1. **è›‡å¤´ï¼ˆsnake[0]ï¼‰**ï¼š
   - å›ºå®šç™½è‰²å¤–è§‚ï¼Œå¸¦é»‘è‰²çœ¼ç›
   - æ°¸è¿œä¸è®¾ç½® `color` å±æ€§ï¼ˆä¿æŒ `undefined`ï¼‰
   - ä¸å‚ä¸é¢œè‰²åŒ¹é…å’Œæ¶ˆé™¤é€»è¾‘
   - ä»…ç”¨äºç§»åŠ¨æ§åˆ¶å’Œç¢°æ’æ£€æµ‹

2. **è›‡èº«ï¼ˆsnake[1+]ï¼‰**ï¼š
   - æ¯ä¸ªèº«ä½“æ®µéƒ½æœ‰ `color` å±æ€§
   - é¢œè‰²æ¥æºäºåƒæ‰çš„é£Ÿç‰©
   - å‚ä¸æ¶ˆé™¤åŒ¹é…é€»è¾‘

#### æ¶ˆé™¤æœºåˆ¶
- æ–°å¢èº«ä½“æ®µæ’å…¥åˆ°è›‡å¤´**ä¹‹å**ï¼ˆæˆä¸ºsnake[1]ï¼‰
- æ£€æŸ¥è¿ç»­ç›¸åŒé¢œè‰²çš„èº«ä½“æ®µï¼ˆâ‰¥3ä¸ªï¼‰
- æ‰§è¡Œæ¶ˆé™¤å¹¶è·å¾—åˆ†æ•°
- **è›‡å¤´æ°¸è¿œä¸å‚ä¸æ¶ˆé™¤**

#### å¼€å‘ç¦å¿Œ
âŒ **ç»å¯¹ä¸è¦**ï¼š
- ç»™è›‡å¤´è®¾ç½®é¢œè‰²å±æ€§
- è®©è›‡å¤´å‚ä¸æ¶ˆé™¤é€»è¾‘
- å°†è›‡å¤´ç®—ä½œèº«ä½“çš„ä¸€éƒ¨åˆ†
- åœ¨æ¶ˆé™¤æ—¶åŒ…å«è›‡å¤´

âœ… **æ­£ç¡®åšæ³•**ï¼š
- è›‡å¤´å§‹ç»ˆä¿æŒç™½è‰²å¤–è§‚
- åªå¯¹èº«ä½“æ®µè¿›è¡Œé¢œè‰²æ“ä½œ
- æ¶ˆé™¤é€»è¾‘åªæ¶‰åŠèº«ä½“æ®µ

## æŠ€æœ¯æ ˆè§„èŒƒ

### æ ¸å¿ƒæŠ€æœ¯
- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript 5
- **React**: React 19 + React DOM 19
- **Styling**: Tailwind CSS 4 (æœ€æ–°ç‰ˆæœ¬)
- **Package Manager**: pnpm (é¦–é€‰)

### å¼€å‘å·¥å…·
- **Dev Mode**: ä½¿ç”¨ `--turbopack` è¿›è¡Œå¿«é€Ÿå¼€å‘
- **Linting**: Next.js å†…ç½® ESLint
- **Type Checking**: TypeScript ä¸¥æ ¼æ¨¡å¼

## ä»£ç è§„èŒƒ

### TypeScript è§„èŒƒ
- ä¸¥æ ¼éµå¾ª TypeScript ä¸¥æ ¼æ¨¡å¼è®¾ç½®
- ä½¿ç”¨ `@/*` è·¯å¾„åˆ«åè¿›è¡Œæ¨¡å—å¯¼å…¥
- ä¼˜å…ˆä½¿ç”¨ç±»å‹æ¨æ–­ï¼Œå¿…è¦æ—¶æ˜¾å¼å£°æ˜ç±»å‹
- ç»„ä»¶ props å¿…é¡»å®šä¹‰æ¥å£ç±»å‹

```typescript
// âœ… æ­£ç¡®çš„ç»„ä»¶ç±»å‹å®šä¹‰
interface ButtonProps {
  children: React.ReactNode;
  onClick?: () => void;
  variant?: 'primary' | 'secondary';
  disabled?: boolean;
}

export default function Button({ children, onClick, variant = 'primary', disabled }: ButtonProps) {
  // ç»„ä»¶å®ç°
}
```

### Next.js App Router è§„èŒƒ
- ä½¿ç”¨ App Router ç»“æ„ (`app/` ç›®å½•)
- é¡µé¢ç»„ä»¶ä½¿ç”¨ `page.tsx` å‘½å
- å¸ƒå±€ç»„ä»¶ä½¿ç”¨ `layout.tsx` å‘½å
- æœåŠ¡ç«¯ç»„ä»¶ä¸ºé»˜è®¤ï¼Œå®¢æˆ·ç«¯ç»„ä»¶éœ€æ˜ç¡®æ ‡è®° `'use client'`
- ä½¿ç”¨ Next.js 15 çš„æœ€æ–°ç‰¹æ€§å’Œæœ€ä½³å®è·µ

### React 19 ç‰¹æ€§
- å……åˆ†åˆ©ç”¨ React 19 çš„æ–°ç‰¹æ€§å’Œæ”¹è¿›
- ä½¿ç”¨ç°ä»£åŒ–çš„ Hook æ¨¡å¼
- ä¼˜å…ˆä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ Hooks

### Tailwind CSS 4 è§„èŒƒ
- ä½¿ç”¨ Tailwind CSS 4 çš„æœ€æ–°è¯­æ³•å’Œç‰¹æ€§
- åˆ©ç”¨ `@theme inline` é…ç½®è‡ªå®šä¹‰ä¸»é¢˜
- å“åº”å¼è®¾è®¡ä¼˜å…ˆï¼ˆmobile-firstï¼‰
- ä½¿ç”¨è¯­ä¹‰åŒ–çš„é¢œè‰²å˜é‡

```css
/* âœ… æ­£ç¡®çš„ä¸»é¢˜é…ç½® */
@theme inline {
  --color-primary: #3b82f6;
  --color-secondary: #64748b;
  --radius-base: 0.5rem;
}
```

## æ–‡ä»¶ç»“æ„è§„èŒƒ

### ç›®å½•ç»„ç»‡
```
cursor_game/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ (routes)/          # è·¯ç”±ç»„
â”‚   â”œâ”€â”€ components/        # é¡µé¢çº§ç»„ä»¶
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx          # é¦–é¡µ
â”œâ”€â”€ components/            # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/               # åŸºç¡€ UI ç»„ä»¶
â”‚   â””â”€â”€ features/         # åŠŸèƒ½ç»„ä»¶
â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•°å’Œé…ç½®
â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ hooks/               # è‡ªå®šä¹‰ Hooks
â””â”€â”€ public/              # é™æ€èµ„æº
```

### å‘½åè§„èŒƒ
- **ç»„ä»¶**: PascalCase (`Button.tsx`, `UserProfile.tsx`)
- **é¡µé¢**: `page.tsx`, `layout.tsx`, `loading.tsx`, `error.tsx`
- **å·¥å…·å‡½æ•°**: camelCase (`formatDate.ts`, `apiClient.ts`)
- **ç±»å‹å®šä¹‰**: PascalCase + åç¼€ (`UserType`, `ApiResponse`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (`API_BASE_URL`, `DEFAULT_TIMEOUT`)

## ç»„ä»¶å¼€å‘è§„èŒƒ

### ç»„ä»¶ç»“æ„æ¨¡æ¿
```typescript
'use client'; // ä»…åœ¨éœ€è¦å®¢æˆ·ç«¯åŠŸèƒ½æ—¶æ·»åŠ 

import { useState, useEffect } from 'react';
import { cn } from '@/lib/utils'; // å¦‚æœä½¿ç”¨ clsx/tailwind-merge

interface ComponentProps {
  // ç±»å‹å®šä¹‰
}

export default function Component({ ...props }: ComponentProps) {
  // Hooks
  // äº‹ä»¶å¤„ç†å‡½æ•°
  // æ¸²æŸ“é€»è¾‘
  
  return (
    <div className="flex items-center justify-center">
      {/* JSX å†…å®¹ */}
    </div>
  );
}
```

### Tailwind CSS ä½¿ç”¨è§„èŒƒ
- ä½¿ç”¨å“åº”å¼å‰ç¼€ï¼š`sm:`, `md:`, `lg:`, `xl:`, `2xl:`
- çŠ¶æ€å˜ä½“ï¼š`hover:`, `focus:`, `active:`, `disabled:`
- æ·±è‰²æ¨¡å¼ï¼š`dark:` å‰ç¼€
- ç»„åˆç±»åæ—¶ä¿æŒå¯è¯»æ€§

```tsx
// âœ… è‰¯å¥½çš„ Tailwind ç±»åç»„ç»‡
<button className="
  px-4 py-2 
  bg-blue-500 hover:bg-blue-600 
  text-white font-medium 
  rounded-lg shadow-sm 
  transition-colors duration-200
  disabled:opacity-50 disabled:cursor-not-allowed
  dark:bg-blue-600 dark:hover:bg-blue-700
">
  Click me
</button>
```

## æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### Next.js ä¼˜åŒ–
- ä½¿ç”¨ `next/image` è¿›è¡Œå›¾ç‰‡ä¼˜åŒ–
- é€‚å½“ä½¿ç”¨ `next/font` è¿›è¡Œå­—ä½“ä¼˜åŒ–
- åˆç†ä½¿ç”¨ Server Components å’Œ Client Components
- åˆ©ç”¨ Next.js 15 çš„ Turbopack è¿›è¡Œå¿«é€Ÿå¼€å‘

### React ä¼˜åŒ–
- ä½¿ç”¨ `React.memo` ä¼˜åŒ–é‡æ¸²æŸ“
- åˆç†ä½¿ç”¨ `useMemo` å’Œ `useCallback`
- é¿å…åœ¨ JSX ä¸­åˆ›å»ºå†…è”å¯¹è±¡å’Œå‡½æ•°

## çŠ¶æ€ç®¡ç†è§„èŒƒ
- ä¼˜å…ˆä½¿ç”¨ React å†…ç½®çŠ¶æ€ç®¡ç†ï¼ˆuseState, useReducer, Contextï¼‰
- å¤æ‚çŠ¶æ€è€ƒè™‘ä½¿ç”¨ Zustand æˆ– Redux Toolkit
- æœåŠ¡ç«¯çŠ¶æ€ä½¿ç”¨ TanStack Query (React Query)

## API å’Œæ•°æ®è·å–
- ä½¿ç”¨ Next.js App Router çš„ Server Actions
- å®¢æˆ·ç«¯æ•°æ®è·å–ä½¿ç”¨ SWR æˆ– TanStack Query
- API è·¯ç”±æ”¾åœ¨ `app/api/` ç›®å½•ä¸‹

## é”™è¯¯å¤„ç†å’Œè¾¹ç•Œ
- ä½¿ç”¨ `error.tsx` å¤„ç†é¡µé¢çº§é”™è¯¯
- ä½¿ç”¨ `loading.tsx` æä¾›åŠ è½½çŠ¶æ€
- å®ç°é€‚å½“çš„é”™è¯¯è¾¹ç•Œç»„ä»¶

## æµ‹è¯•è§„èŒƒ
- å•å…ƒæµ‹è¯•ï¼šJest + React Testing Library
- E2E æµ‹è¯•ï¼šPlaywright
- ç»„ä»¶æµ‹è¯•æ–‡ä»¶å‘½åï¼š`Component.test.tsx`

## å¼€å‘å·¥ä½œæµ

### å‘½ä»¤è§„èŒƒ
```bash
# å¼€å‘ç¯å¢ƒï¼ˆä½¿ç”¨ Turbopackï¼‰
pnpm dev

# æ„å»ºé¡¹ç›®
pnpm build

# ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
pnpm start

# ä»£ç æ£€æŸ¥
pnpm lint
```

### Git æäº¤è§„èŒƒ
- ä½¿ç”¨ Conventional Commits æ ¼å¼
- ç±»å‹ï¼šfeat, fix, docs, style, refactor, test, chore
- ç¤ºä¾‹ï¼š`feat: add user authentication component`

## å¯è®¿é—®æ€§ (A11y)
- ä½¿ç”¨è¯­ä¹‰åŒ– HTML å…ƒç´ 
- æä¾›é€‚å½“çš„ ARIA å±æ€§
- ç¡®ä¿é”®ç›˜å¯¼èˆªæ”¯æŒ
- ä¿æŒè¶³å¤Ÿçš„é¢œè‰²å¯¹æ¯”åº¦

## å®‰å…¨è§„èŒƒ
- ä½¿ç”¨ Next.js å†…ç½®çš„å®‰å…¨ç‰¹æ€§
- é¿å… XSS æ”»å‡»ï¼Œè°¨æ…ä½¿ç”¨ `dangerouslySetInnerHTML`
- ç¯å¢ƒå˜é‡ä½¿ç”¨ `NEXT_PUBLIC_` å‰ç¼€è¿›è¡Œå®¢æˆ·ç«¯æš´éœ²

## ä»£ç è´¨é‡
- ä¿æŒå‡½æ•°ç®€æ´ï¼Œå•ä¸€èŒè´£
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å‘½å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šï¼Œç‰¹åˆ«æ˜¯å¤æ‚é€»è¾‘
- å®šæœŸé‡æ„å’Œä¼˜åŒ–ä»£ç 

## éƒ¨ç½²å’Œç¯å¢ƒ
- å¼€å‘ç¯å¢ƒï¼š`pnpm dev`
- ç”Ÿäº§æ„å»ºï¼š`pnpm build && pnpm start`
- ç¯å¢ƒå˜é‡é…ç½®åœ¨ `.env.local` æ–‡ä»¶ä¸­

---

éµå¾ªè¿™äº›è§„èŒƒå°†ç¡®ä¿ä»£ç çš„ä¸€è‡´æ€§ã€å¯ç»´æŠ¤æ€§å’Œæœ€ä½³æ€§èƒ½ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå§‹ç»ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒã€æ€§èƒ½ä¼˜åŒ–å’Œä»£ç è´¨é‡ã€‚ 